#!/usr/bin/env bash

TIBIA_DIR="${HOME}/.local/share/CipSoft GmbH/Tibia/packages/Tibia";
mkdir -p "${TIBIA_DIR}";
if [ "${1}" = '--no-markers' ]; then
	echo 'Downloading & extracting `minimap-without-markers.zip`…';
	url='https://tibiamaps.io/downloads/minimap-without-markers';
else
	echo 'Downloading & extracting `minimap-with-markers.zip`…';
	url='https://tibiamaps.io/downloads/minimap-with-markers';
fi;
zip_file_name="$(mktemp)";
curl --progress-bar --location "${url}" > "${zip_file_name}";
unzip -o -d "${TIBIA_DIR}" "${zip_file_name}";
rm "${zip_file_name}";
